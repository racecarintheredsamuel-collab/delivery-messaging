{%- comment -%}
Icon snippet - reads built-in icons from metafield
Usage: {% render 'icon', icon: 'truck', style: 'solid' %}
{%- endcomment -%}
{%- assign icon_style = style | default: 'solid' -%}
{%- assign icons_json = shop.metafields.delivery_rules.icons.value -%}
{%- if icons_json != blank -%}
  {%- assign icons = icons_json | parse_json -%}
  {%- assign icon_key = icon | append: '-' | append: icon_style -%}
  {%- if icons[icon_key] -%}
    {%- assign icon_svg = icons[icon_key] | replace: '<svg', '<svg width="100%" height="100%" ' -%}
    {{ icon_svg }}
  {%- endif -%}
{%- endif -%}
